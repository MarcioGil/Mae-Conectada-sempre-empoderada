@tailwind base;
@tailwind components;
@tailwind utilities;

/* Variáveis CSS para acessibilidade */
:root {
  --font-inter: 'Inter', system-ui, -apple-system, sans-serif;
  
  /* Cores principais */
  --color-primary: #d433ff;
  --color-secondary: #0ea5e9;
  --color-success: #22c55e;
  --color-warning: #f59e0b;
  --color-error: #ef4444;
  
  /* Cores para modo escuro */
  --color-bg-dark: #0f172a;
  --color-text-dark: #f8fafc;
  
  /* Focus rings acessíveis */
  --focus-ring: 0 0 0 2px var(--color-primary);
  --focus-ring-offset: 0 0 0 4px rgba(255, 255, 255, 0.8);
}

/* Reset e base styles acessíveis */
* {
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  font-family: var(--font-inter);
  line-height: 1.6;
  overflow-x: hidden;
}

/* Modo de alto contraste */
@media (prefers-contrast: high) {
  :root {
    --color-primary: #0000ff;
    --color-secondary: #000000;
    --color-bg: #ffffff;
    --color-text: #000000;
  }
}

/* Preferência por movimento reduzido */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Styles para componentes base */
@layer base {
  /* Headings acessíveis */
  h1, h2, h3, h4, h5, h6 {
    @apply font-bold text-gray-900 dark:text-gray-100;
    line-height: 1.3;
  }
  
  h1 { @apply text-3xl md:text-4xl; }
  h2 { @apply text-2xl md:text-3xl; }
  h3 { @apply text-xl md:text-2xl; }
  h4 { @apply text-lg md:text-xl; }
  h5 { @apply text-base md:text-lg; }
  h6 { @apply text-sm md:text-base; }
  
  /* Parágrafos */
  p {
    @apply text-gray-700 dark:text-gray-300 mb-4;
  }
  
  /* Links acessíveis */
  a {
    @apply text-primary-600 dark:text-primary-400 underline-offset-2;
    text-decoration-skip-ink: auto;
  }
  
  a:hover {
    @apply underline;
  }
  
  a:focus-visible {
    @apply outline-2 outline-primary-600 outline-offset-2;
  }
}

@layer components {
  /* Botões acessíveis */
  .btn {
    @apply inline-flex items-center justify-center px-4 py-2 rounded-lg font-medium transition-all duration-200 focus-visible touch-target;
    min-height: 44px;
  }
  
  .btn-primary {
    @apply bg-primary-600 text-white hover:bg-primary-700 active:bg-primary-800;
  }
  
  .btn-secondary {
    @apply bg-secondary-600 text-white hover:bg-secondary-700 active:bg-secondary-800;
  }
  
  .btn-outline {
    @apply border-2 border-primary-600 text-primary-600 hover:bg-primary-50 active:bg-primary-100;
  }
  
  .btn-ghost {
    @apply text-primary-600 hover:bg-primary-50 active:bg-primary-100;
  }
  
  .btn:disabled {
    @apply opacity-50 cursor-not-allowed;
  }
  
  /* Cards acessíveis */
  .card {
    @apply bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6;
  }
  
  .card:focus-within {
    @apply ring-2 ring-primary-500 ring-offset-2;
  }
  
  /* Inputs acessíveis */
  .input {
    @apply w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors touch-target;
  }
  
  .input:invalid {
    @apply border-error focus:ring-error focus:border-error;
  }
  
  /* Labels acessíveis */
  .label {
    @apply block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2;
  }
  
  .label-required::after {
    content: " *";
    @apply text-error;
  }
  
  /* Status e feedback */
  .status-success {
    @apply bg-green-50 border border-green-200 text-green-800 p-4 rounded-lg;
  }
  
  .status-warning {
    @apply bg-yellow-50 border border-yellow-200 text-yellow-800 p-4 rounded-lg;
  }
  
  .status-error {
    @apply bg-red-50 border border-red-200 text-red-800 p-4 rounded-lg;
  }
  
  /* Loading states */
  .loading {
    @apply animate-pulse;
  }
  
  .spinner {
    @apply animate-spin rounded-full border-2 border-gray-300 border-t-primary-600;
  }
}

@layer utilities {
  /* Utilitários de acessibilidade */
  .focus-visible {
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
  }
  
  .visually-hidden {
    position: absolute !important;
    width: 1px !important;
    height: 1px !important;
    padding: 0 !important;
    margin: -1px !important;
    overflow: hidden !important;
    clip: rect(0, 0, 0, 0) !important;
    white-space: nowrap !important;
    border: 0 !important;
  }
  
  .container-mobile {
    @apply w-full max-w-sm mx-auto px-4;
  }
  
  .container-tablet {
    @apply w-full max-w-2xl mx-auto px-6;
  }
  
  .container-desktop {
    @apply w-full max-w-6xl mx-auto px-8;
  }
  
  /* Animações suaves */
  .slide-up {
    animation: slideUp 0.3s ease-out;
  }
  
  .fade-in {
    animation: fadeIn 0.5s ease-in-out;
  }
  
  /* Grid responsivo */
  .grid-responsive {
    @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6;
  }
  
  /* Texto truncado com tooltip */
  .text-truncate {
    @apply truncate;
  }
  
  /* Sombras suaves */
  .shadow-soft {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }
  
  .shadow-soft-lg {
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
  }
}

/* Keyframes para animações */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from { 
    opacity: 0;
    transform: translateY(10px);
  }
  to { 
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes bounceGentle {
  0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
  40% { transform: translateY(-10px); }
  60% { transform: translateY(-5px); }
}

/* Estilo para PWA */
@media (display-mode: standalone) {
  body {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
  }
}