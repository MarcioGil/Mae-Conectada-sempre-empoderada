(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[651],{5898:function(e,t,a){Promise.resolve().then(a.bind(a,35))},35:function(e,t,a){"use strict";a.r(t);var s=a(7437),r=a(2265);t.default=()=>{let[e,t]=(0,r.useState)(!1),[a,n]=(0,r.useState)([]),[o,l]=(0,r.useState)(null),[i,c]=(0,r.useState)(!1),[d,x]=(0,r.useState)(0),[m,u]=(0,r.useState)(!1),[g,h]=(0,r.useState)(10),[p,b]=(0,r.useState)(!1),[v,f]=(0,r.useState)({name:"",phone:"",relationship:""}),y=(0,r.useRef)(null),N=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e=localStorage.getItem("emergencyContacts");e&&n(JSON.parse(e));let t=localStorage.getItem("locationEnabled");"true"===t&&(c(!0),getCurrentLocation())},[]);let getCurrentLocation=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(e=>{l({latitude:e.coords.latitude,longitude:e.coords.longitude,accuracy:e.coords.accuracy,timestamp:Date.now()})},e=>{},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})},cancelEmergency=()=>{y.current&&clearInterval(y.current),N.current&&clearTimeout(N.current),t(!1),u(!1),h(10),x(0)},sendEmergencyAlert=async()=>{try{i&&getCurrentLocation();let e={timestamp:new Date().toISOString(),location:o,userAgent:navigator.userAgent,emergencyType:"violencia_domestica"};window.open("tel:190","_self"),await sendSMSToContacts(e),await sendWhatsAppAlert(e),saveEmergencyRecord(e),showSafetyInstructions()}catch(e){window.open("tel:190","_self")}},sendSMSToContacts=async e=>{let t=`🆘 EMERG\xcaNCIA AUTOM\xc1TICA - M\xe3e Conecta
    
Situa\xe7\xe3o: Viol\xeancia dom\xe9stica
Hor\xe1rio: ${new Date().toLocaleString("pt-BR")}
${o?`Localiza\xe7\xe3o: https://maps.google.com/?q=${o.latitude},${o.longitude}`:"Localiza\xe7\xe3o: N\xe3o dispon\xedvel"}

Esta \xe9 uma mensagem autom\xe1tica. Por favor, verifique imediatamente a situa\xe7\xe3o ou contacte as autoridades.

N\xfameros de emerg\xeancia:
• 190 - Pol\xedcia
• 180 - Central da Mulher
• 192 - SAMU`,s=encodeURIComponent(t);a.filter(e=>e.isActive).sort((e,t)=>e.priority-t.priority).forEach((e,t)=>{setTimeout(()=>{window.open(`sms:${e.phone}?body=${s}`,"_blank")},2e3*t)})},sendWhatsAppAlert=async e=>{let t=`🆘 *ALERTA DE EMERG\xcaNCIA AUTOM\xc1TICO*

*Situa\xe7\xe3o:* Viol\xeancia dom\xe9stica
*Hor\xe1rio:* ${new Date().toLocaleString("pt-BR")}
*App:* M\xe3e Conecta - Sistema de Prote\xe7\xe3o

${o?`*Localiza\xe7\xe3o:* https://maps.google.com/?q=${o.latitude},${o.longitude}`:"*Localiza\xe7\xe3o:* N\xe3o dispon\xedvel"}

*A\xc7\xc3O NECESS\xc1RIA:*
- Verificar situa\xe7\xe3o imediatamente
- Contactar autoridades se necess\xe1rio
- 190 - Pol\xedcia / 180 - Central da Mulher

Esta \xe9 uma mensagem autom\xe1tica gerada em situa\xe7\xe3o de emerg\xeancia.`,s=encodeURIComponent(t),r=a.filter(e=>e.isActive).sort((e,t)=>e.priority-t.priority)[0];r&&setTimeout(()=>{window.open(`https://wa.me/55${r.phone.replace(/\D/g,"")}?text=${s}`,"_blank")},3e3)},saveEmergencyRecord=e=>{let t=JSON.parse(localStorage.getItem("emergencyRecords")||"[]");t.push({...e,id:Date.now().toString(),status:"sent"}),localStorage.setItem("emergencyRecords",JSON.stringify(t))},showSafetyInstructions=()=>{let e=`
🛡️ INSTRU\xc7\xd5ES DE SEGURAN\xc7A:

1. Se poss\xedvel, saia do local imediatamente
2. Procure um lugar seguro (vizinhos, fam\xedlia)
3. N\xe3o retorne sozinha ao local
4. Aguarde a pol\xedcia chegar
5. Documente qualquer evid\xeancia
6. Procure atendimento m\xe9dico se necess\xe1rio
7. Registre boletim de ocorr\xeancia

N\xdaMEROS IMPORTANTES:
• 190 - Pol\xedcia
• 180 - Central da Mulher  
• 192 - SAMU
• 100 - Disque Direitos Humanos
    `;alert(e)},removeContact=e=>{let t=a.filter(t=>t.id!==e);n(t),localStorage.setItem("emergencyContacts",JSON.stringify(t))},toggleContactActive=e=>{let t=a.map(t=>t.id===e?{...t,isActive:!t.isActive}:t);n(t),localStorage.setItem("emergencyContacts",JSON.stringify(t))};return e?(0,s.jsx)("div",{className:"fixed inset-0 bg-red-600 z-50 flex items-center justify-center",children:(0,s.jsx)("div",{className:"bg-white rounded-xl p-8 max-w-md mx-4 text-center",children:m?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"\uD83C\uDD98"}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"ALERTA DE EMERG\xcaNCIA"}),(0,s.jsx)("div",{className:"text-4xl font-bold text-red-600 mb-4",children:g}),(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4 mb-6",children:(0,s.jsx)("div",{className:"bg-red-600 h-4 rounded-full transition-all duration-1000",style:{width:`${d}%`}})}),(0,s.jsx)("p",{className:"text-gray-700 mb-6",children:"A pol\xedcia e seus contatos de emerg\xeancia ser\xe3o acionados automaticamente."}),(0,s.jsx)("button",{onClick:cancelEmergency,className:"bg-gray-600 hover:bg-gray-700 text-white px-8 py-4 rounded-lg font-bold",children:"CANCELAR ALERTA"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDCDE"}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-green-600 mb-4",children:"ALERTA ENVIADO"}),(0,s.jsx)("p",{className:"text-gray-700 mb-6",children:"A pol\xedcia foi contactada e seus contatos de emerg\xeancia foram notificados."}),(0,s.jsx)("button",{onClick:cancelEmergency,className:"bg-green-600 hover:bg-green-700 text-white px-8 py-4 rounded-lg font-bold",children:"FECHAR"})]})})}):p?(0,s.jsxs)("div",{className:"max-w-4xl mx-auto p-6 bg-white rounded-xl shadow-lg",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"\uD83D\uDEA8 Configurar Sistema de Emerg\xeancia"}),(0,s.jsx)("button",{onClick:()=>b(!1),className:"text-gray-500 hover:text-gray-700 text-xl",children:"✕"})]}),(0,s.jsxs)("div",{className:"bg-blue-50 p-6 rounded-lg mb-6",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-blue-800 mb-4",children:"\uD83D\uDCCD Localiza\xe7\xe3o GPS"}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-blue-700 mb-2",children:"Permite enviar sua localiza\xe7\xe3o exata para a pol\xedcia e contatos"}),o&&(0,s.jsxs)("p",{className:"text-sm text-blue-600",children:["\xdaltima atualiza\xe7\xe3o: ",new Date(o.timestamp).toLocaleString()]})]}),(0,s.jsx)("button",{onClick:()=>{i?(c(!1),localStorage.setItem("locationEnabled","false"),l(null)):navigator.geolocation.getCurrentPosition(e=>{c(!0),localStorage.setItem("locationEnabled","true"),getCurrentLocation()},e=>{alert("Para sua seguran\xe7a, \xe9 recomendado permitir acesso \xe0 localiza\xe7\xe3o.")})},className:`px-4 py-2 rounded-lg font-medium ${i?"bg-green-600 text-white":"bg-gray-300 text-gray-700"}`,children:i?"Ativado":"Ativar"})]})]}),(0,s.jsxs)("div",{className:"bg-green-50 p-6 rounded-lg mb-6",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-green-800 mb-4",children:"\uD83D\uDC65 Adicionar Contato de Emerg\xeancia"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 mb-4",children:[(0,s.jsx)("input",{type:"text",placeholder:"Nome completo",value:v.name,onChange:e=>f({...v,name:e.target.value}),className:"border border-gray-300 rounded-lg px-3 py-2"}),(0,s.jsx)("input",{type:"tel",placeholder:"Telefone com DDD",value:v.phone,onChange:e=>f({...v,phone:e.target.value}),className:"border border-gray-300 rounded-lg px-3 py-2"}),(0,s.jsx)("input",{type:"text",placeholder:"Parentesco/Rela\xe7\xe3o",value:v.relationship,onChange:e=>f({...v,relationship:e.target.value}),className:"border border-gray-300 rounded-lg px-3 py-2"})]}),(0,s.jsx)("button",{onClick:()=>{if(v.name&&v.phone){let e={id:Date.now().toString(),name:v.name,phone:v.phone,relationship:v.relationship,priority:a.length+1,isActive:!0},t=[...a,e];n(t),localStorage.setItem("emergencyContacts",JSON.stringify(t)),f({name:"",phone:"",relationship:""})}},className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg",children:"Adicionar Contato"})]}),(0,s.jsxs)("div",{className:"bg-purple-50 p-6 rounded-lg",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-purple-800 mb-4",children:"\uD83D\uDCCB Contatos Cadastrados"}),0===a.length?(0,s.jsx)("p",{className:"text-purple-600",children:"Nenhum contato cadastrado ainda."}):(0,s.jsx)("div",{className:"space-y-3",children:a.map(e=>(0,s.jsx)("div",{className:"bg-white p-4 rounded-lg border",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("span",{className:`w-3 h-3 rounded-full ${e.isActive?"bg-green-500":"bg-gray-300"}`}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:e.name}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[e.phone," - ",e.relationship]})]})]})}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("button",{onClick:()=>toggleContactActive(e.id),className:`px-3 py-1 rounded text-sm ${e.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:e.isActive?"Ativo":"Inativo"}),(0,s.jsx)("button",{onClick:()=>removeContact(e.id),className:"px-3 py-1 bg-red-100 text-red-700 rounded text-sm",children:"Remover"})]})]})},e.id))})]})]}):(0,s.jsxs)("div",{className:"max-w-md mx-auto p-6 bg-white rounded-xl shadow-lg",children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"\uD83D\uDEA8 Sistema de Emerg\xeancia"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Prote\xe7\xe3o contra viol\xeancia dom\xe9stica com acionamento autom\xe1tico"})]}),(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsxs)("button",{onClick:()=>{t(!0),u(!0),h(10),x(0),navigator.vibrate&&navigator.vibrate([200,100,200,100,200]),y.current=setInterval(()=>{h(e=>e<=1?(u(!1),sendEmergencyAlert(),0):e-1),x(e=>e+10)},1e3)},className:"w-32 h-32 bg-red-600 hover:bg-red-700 text-white rounded-full shadow-lg transform transition-all duration-200 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-red-300",children:[(0,s.jsx)("div",{className:"text-4xl mb-2",children:"\uD83C\uDD98"}),(0,s.jsx)("div",{className:"font-bold text-sm",children:"EMERG\xcaNCIA"})]}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mt-4",children:"Mantenha pressionado por 2 segundos para ativar"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,s.jsxs)("div",{className:`p-4 rounded-lg text-center ${i?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:[(0,s.jsx)("div",{className:"text-2xl mb-1",children:"\uD83D\uDCCD"}),(0,s.jsx)("div",{className:"text-sm font-medium",children:i?"GPS Ativo":"GPS Inativo"})]}),(0,s.jsxs)("div",{className:`p-4 rounded-lg text-center ${a.filter(e=>e.isActive).length>0?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:[(0,s.jsx)("div",{className:"text-2xl mb-1",children:"\uD83D\uDC65"}),(0,s.jsxs)("div",{className:"text-sm font-medium",children:[a.filter(e=>e.isActive).length," Contatos"]})]})]}),(0,s.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,s.jsx)("button",{onClick:()=>window.open("tel:190","_self"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium",children:"\uD83D\uDCDE Ligar para Pol\xedcia (190)"}),(0,s.jsx)("button",{onClick:()=>window.open("tel:180","_self"),className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-3 rounded-lg font-medium",children:"\uD83D\uDCDE Central da Mulher (180)"})]}),(0,s.jsx)("button",{onClick:()=>b(!0),className:"w-full bg-gray-600 hover:bg-gray-700 text-white py-3 rounded-lg font-medium",children:"⚙️ Configurar Sistema"}),(0,s.jsx)("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,s.jsxs)("p",{className:"text-yellow-800 text-sm",children:[(0,s.jsx)("strong",{children:"⚠️ Importante:"})," Este sistema \xe9 uma ferramenta de apoio. Em situa\xe7\xf5es de perigo iminente, ligue diretamente para 190."]})})]})}},622:function(e,t,a){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s=a(2265),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,a){var s,n={},c=null,d=null;for(s in void 0!==a&&(c=""+a),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)o.call(t,s)&&!i.hasOwnProperty(s)&&(n[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===n[s]&&(n[s]=t[s]);return{$$typeof:r,type:e,key:c,ref:d,props:n,_owner:l.current}}t.Fragment=n,t.jsx=q,t.jsxs=q},7437:function(e,t,a){"use strict";e.exports=a(622)}},function(e){e.O(0,[971,472,744],function(){return e(e.s=5898)}),_N_E=e.O()}]);